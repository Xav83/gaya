(* Output: 'i' *)

test :: { =>
  let f = unit in
  let finished = 0 in do
    while not finished do
      discard let i = "i" in do (* TODO: Replace with ignore *)
        f <- { => io.println(i) }
        unit
      done
      finished <- 1
    done

    f
  done
}

h :: test()

discard h()
